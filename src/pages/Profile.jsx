import React, { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { FormattedMessage, useIntl } from 'react-intl';
import { toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
import logo from '../assets/images/logo.png';
import packageInfo from '../../package.json';
import '../styles/Profile.css';
import { createContext, useContext } from 'react';
import { useLocation } from 'react-router-dom';

function Profile() {
  const navigate = useNavigate();
  const intl = useIntl();
  const appVersion = packageInfo.version;

  const NavigationContext = createContext();

  // State for user data
  const [userData, setUserData] = useState({
    firstName: '',
    lastName: '',
    phoneNumber: '',
    province: '',
    city: '',
    avatar: null
  });

  // Load user data from localStorage on component mount
  useEffect(() => {
    const savedVersion = localStorage.getItem('appVersion');
    if (savedVersion && savedVersion !== appVersion) {
      toast.info(intl.formatMessage({ id: 'newVersionAvailable' }, { version: appVersion }));
    }
    localStorage.setItem('appVersion', appVersion);

    // Load user profile data
    const savedProfile = localStorage.getItem('userProfile');
    if (savedProfile) {
      const profileData = JSON.parse(savedProfile);
      setUserData(profileData);
    }
  }, [appVersion, intl]);

  // Format phone number for display
  const formatPhoneNumber = (phone) => {
    return phone.startsWith('+98') ? phone : `${phone}`;
  };

  // Get user display name
  const getDisplayName = () => {
    if (userData.firstName && userData.lastName) {
      return `${userData.firstName} ${userData.lastName}`;
    }
    return intl.formatMessage({ id: 'Username' });
  };

  return (
    <div className="profile-container">
      {/* Profile Header with Back Arrow */}
      <div className="profile-top">
        <div className="profile-header">
          <button className="back-arrow10" onClick={() => navigate(-1)}>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3.33301 10H16.6663M16.6663 10L11.6663 5M16.6663 10L11.6663 15" stroke="#1E2023" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
            </svg>

          </button>

          <h1 className="profile-title">
            <FormattedMessage id="profileTitle" />
          </h1>
        </div>
        <div className="profile-info">
          <div className="profile-avatar-container">
            <div className="profile-avatar">
              {userData.avatar ? (
                <img src={userData.avatar} alt="Profile" className="profile-avatar-image" />
              ) : (
                <svg width="55" height="56" viewBox="0 0 55 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clipPath="url(#clip0_224_9691)">
                    <mask id="mask0_224_9691" style={{ maskType: 'alpha' }} maskUnits="userSpaceOnUse" x="0" y="0" width="55" height="56">
                      <path d="M27.4999 55.4287C12.3749 55.4287 0.0712891 43.125 0.0712891 28.0001C0.0712891 12.8752 12.3749 0.571533 27.4999 0.571533C42.6248 0.571533 54.9284 12.8752 54.9284 28.0001C54.9284 43.125 42.6248 55.4287 27.4999 55.4287Z" fill="white" />
                    </mask>
                    <g mask="url(#mask0_224_9691)">
                      <path d="M27.4999 55.4287C12.3749 55.4287 0.0712891 43.125 0.0712891 28.0001C0.0712891 12.8752 12.3749 0.571533 27.4999 0.571533C42.6248 0.571533 54.9284 12.8752 54.9284 28.0001C54.9284 43.125 42.6248 55.4287 27.4999 55.4287Z" fill="#E7F1FE" />
                      <path opacity="0.5" fillRule="evenodd" clipRule="evenodd" d="M32.7994 31.9187H18.2784C12.5738 31.9187 7.90625 36.7063 7.90625 42.6051V49.2522C9.21312 50.3016 10.603 51.2185 12.0551 52.0092C16.0774 54.1914 20.6848 55.4289 25.5389 55.4289C30.3931 55.4289 34.9983 54.1914 39.0227 52.0092C40.4727 51.2185 41.8646 50.3016 43.1715 49.2522V42.6051C43.1715 36.7063 38.5248 31.9187 32.7994 31.9187Z" fill="url(#paint0_linear_224_9691)" />
                      <path opacity="0.5" fillRule="evenodd" clipRule="evenodd" d="M25.5378 9.71313C19.7909 9.71313 15.0889 14.3942 15.0889 20.1621C15.0889 25.93 19.7909 30.6111 25.5378 30.6111C31.3056 30.6111 35.9868 25.93 35.9868 20.1621C35.9868 14.3942 31.3056 9.71313 25.5378 9.71313Z" fill="url(#paint1_linear_224_9691)" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M26.8496 11.0208C21.4618 11.0208 17.0537 15.4093 17.0537 20.8167C17.0537 26.224 21.4618 30.6125 26.8496 30.6125C32.257 30.6125 36.6456 26.224 36.6456 20.8167C36.6456 15.4093 32.257 11.0208 26.8496 11.0208Z" fill="url(#paint2_linear_224_9691)" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M34.3491 33.8762H20.6348C15.247 33.8762 10.8389 38.2648 10.8389 43.6722V49.7652C12.0732 50.7271 13.3858 51.5677 14.7572 52.2926C18.5561 54.2929 22.9074 55.4272 27.4919 55.4272C32.0764 55.4272 36.4258 54.2929 40.2266 52.2926C41.5961 51.5677 42.9106 50.7271 44.1449 49.7652V43.6722C44.1449 38.2648 39.7564 33.8762 34.3491 33.8762Z" fill="url(#paint3_linear_224_9691)" />
                    </g>
                  </g>
                  <defs>
                    <linearGradient id="paint0_linear_224_9691" x1="71.0299" y1="37.1067" x2="13.64" y2="56.0111" gradientUnits="userSpaceOnUse">
                      <stop stopColor="#0F71EF" />
                      <stop offset="1" stopColor="white" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_224_9691" x1="49.2108" y1="25.9274" x2="19.6461" y2="18.01" gradientUnits="userSpaceOnUse">
                      <stop stopColor="#858585" />
                      <stop offset="1" stopColor="white" />
                    </linearGradient>
                    <linearGradient id="paint2_linear_224_9691" x1="33.9429" y1="22.7948" x2="-0.159482" y2="11.0208" gradientUnits="userSpaceOnUse">
                      <stop stopColor="#0F71EF" />
                      <stop offset="1" stopColor="white" />
                    </linearGradient>
                    <linearGradient id="paint3_linear_224_9691" x1="14.1789" y1="48.5383" x2="38.6573" y2="29.0982" gradientUnits="userSpaceOnUse">
                      <stop stopColor="#0F71EF" />
                      <stop offset="1" stopColor="white" />
                    </linearGradient>
                    <clipPath id="clip0_224_9691">
                      <rect width="54.8571" height="54.8571" fill="white" transform="translate(0.0712891 0.571533)" />
                    </clipPath>
                  </defs>
                </svg>
              )}
            </div>
          </div>
          <div className="user-info">
            <p className="user-name">
              {getDisplayName()}
            </p>
            <p className="user-phone">
              {userData.phoneNumber ? formatPhoneNumber(userData.phoneNumber) : <FormattedMessage id="phoneNumber" />}
            </p>
          </div>
          <button className="complete-profile-btn" onClick={() => navigate('/pinfo')}>
            <FormattedMessage id="completeProfile" />
            <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M12.1161 3.32293C12.3519 3.5251 12.3793 3.88021 12.1771 4.11608L7.99086 9.00001L12.1771 13.8839C12.3793 14.1198 12.3519 14.4749 12.1161 14.6771C11.8802 14.8793 11.5251 14.852 11.3229 14.6161L6.82292 9.36608C6.64236 9.15543 6.64236 8.84459 6.82292 8.63394L11.3229 3.38394C11.5251 3.14807 11.8802 3.12075 12.1161 3.32293Z" fill="white" />
            </svg>
          </button>
        </div>
      </div>

      {/* Rest of the code remains the same */}
      {/* Profile Sections */}
      <div className="profile-sections">
        {/* Account Section */}
        <div className="profile-section">
          <h2 className="section-title">
            <FormattedMessage id="accountSection" />
          </h2>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.9997 1.646C8.59493 1.646 6.64551 3.59542 6.64551 6.00016C6.64551 8.4049 8.59493 10.3543 10.9997 10.3543C13.4044 10.3543 15.3538 8.4049 15.3538 6.00016C15.3538 3.59542 13.4044 1.646 10.9997 1.646ZM8.02051 6.00016C8.02051 4.35481 9.35433 3.021 10.9997 3.021C12.645 3.021 13.9788 4.35481 13.9788 6.00016C13.9788 7.64551 12.645 8.97933 10.9997 8.97933C9.35433 8.97933 8.02051 7.64551 8.02051 6.00016Z" fill="#1E2023" />
                <path fillRule="evenodd" clipRule="evenodd" d="M10.9997 11.7293C9.13028 11.7293 7.40406 12.1609 6.12131 12.8939C4.858 13.6157 3.89551 14.7178 3.89551 16.0835C3.89551 17.4492 4.858 18.5512 6.12131 19.2731C7.40406 20.0061 9.13028 20.4377 10.9997 20.4377C12.8691 20.4377 14.5953 20.0061 15.878 19.2731C17.1413 18.5512 18.1038 17.4492 18.1038 16.0835C18.1038 14.7178 17.1413 13.6157 15.878 12.8939C14.5953 12.1609 12.8691 11.7293 10.9997 11.7293ZM5.27051 16.0835C5.27051 15.4242 5.74443 14.6929 6.8035 14.0877C7.84312 13.4936 9.32524 13.1043 10.9997 13.1043C12.6741 13.1043 14.1562 13.4936 15.1958 14.0877C16.2549 14.6929 16.7288 15.4242 16.7288 16.0835C16.7288 16.7428 16.2549 17.4741 15.1958 18.0793C14.1562 18.6734 12.6741 19.0627 10.9997 19.0627C9.32524 19.0627 7.84312 18.6734 6.8035 18.0793C5.74443 17.4741 5.27051 16.7428 5.27051 16.0835Z" fill="#1E2023" />
              </svg>

            </span>
            <span className="item-text" onClick={() => navigate('/pinfo')}>
              <FormattedMessage id="accountInfo" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M4.58301 3.021C3.44392 3.021 2.52051 3.94441 2.52051 5.0835C2.52051 6.22258 3.44392 7.146 4.58301 7.146C5.72209 7.146 6.64551 6.22258 6.64551 5.0835C6.64551 3.94441 5.72209 3.021 4.58301 3.021ZM1.14551 5.0835C1.14551 3.18502 2.68453 1.646 4.58301 1.646C6.48149 1.646 8.02051 3.18502 8.02051 5.0835C8.02051 6.98197 6.48149 8.521 4.58301 8.521C2.68453 8.521 1.14551 6.98197 1.14551 5.0835ZM9.39551 5.0835C9.39551 4.7038 9.70331 4.396 10.083 4.396H14.7872C17.3092 4.396 18.2683 7.68958 16.1406 9.04356L6.59695 15.1168C5.62982 15.7322 6.06578 17.2293 7.21211 17.2293H10.2566L10.0552 17.028C9.78672 16.7595 9.78672 16.3242 10.0552 16.0557C10.3237 15.7872 10.759 15.7872 11.0275 16.0557L12.4025 17.4307C12.671 17.6992 12.671 18.1345 12.4025 18.403L11.0275 19.778C10.759 20.0464 10.3237 20.0464 10.0552 19.778C9.78672 19.5095 9.78672 19.0742 10.0552 18.8057L10.2566 18.6043H7.21211C4.69014 18.6043 3.73107 15.3107 5.85875 13.9568L15.4024 7.88352C16.3695 7.26808 15.9336 5.771 14.7872 5.771H10.083C9.70331 5.771 9.39551 5.46319 9.39551 5.0835ZM17.4163 15.8543C16.2773 15.8543 15.3538 16.7777 15.3538 17.9168C15.3538 19.0559 16.2773 19.9793 17.4163 19.9793C18.5554 19.9793 19.4788 19.0559 19.4788 17.9168C19.4788 16.7777 18.5554 15.8543 17.4163 15.8543ZM13.9788 17.9168C13.9788 16.0183 15.5179 14.4793 17.4163 14.4793C19.3148 14.4793 20.8538 16.0183 20.8538 17.9168C20.8538 19.8153 19.3148 21.3543 17.4163 21.3543C15.5179 21.3543 13.9788 19.8153 13.9788 17.9168Z" fill="#1E2023" />
              </svg>

            </span>
            <span className="item-text" onClick={() => navigate('/proutes')}>
              <FormattedMessage id="myRoutes" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.25 5.31266C7.87031 5.31266 7.5625 5.62047 7.5625 6.00016C7.5625 6.37986 7.87031 6.68766 8.25 6.68766H13.75C14.1297 6.68766 14.4375 6.37986 14.4375 6.00016C14.4375 5.62047 14.1297 5.31266 13.75 5.31266H8.25Z" fill="#1E2023" />
                <path fillRule="evenodd" clipRule="evenodd" d="M10.9473 1.646C9.04744 1.64598 7.55073 1.64597 6.38117 1.80492C5.18028 1.96812 4.22225 2.31029 3.46944 3.07126C2.71764 3.83121 2.38051 4.7966 2.21953 6.00696C2.06248 7.18772 2.06249 8.6994 2.0625 10.6211V15.2943C2.06249 16.6762 2.06248 17.7703 2.15051 18.5941C2.2375 19.4081 2.4241 20.1425 2.95702 20.6337C3.38457 21.0277 3.92527 21.2761 4.50235 21.3421C5.22419 21.4247 5.89819 21.08 6.56213 20.6097C7.23399 20.1338 8.04903 19.4129 9.07733 18.5034L9.11079 18.4738C9.58752 18.0522 9.91029 17.7676 10.1796 17.5707C10.4398 17.3804 10.5987 17.3116 10.7327 17.2846C10.9092 17.2491 11.0908 17.2491 11.2673 17.2846C11.4013 17.3116 11.5602 17.3804 11.8204 17.5707C12.0897 17.7676 12.4125 18.0522 12.8892 18.4738L12.9227 18.5035C13.951 19.413 14.766 20.1338 15.4379 20.6097C16.1018 21.08 16.7758 21.4247 17.4977 21.3421C18.0747 21.2761 18.6154 21.0277 19.043 20.6337C19.5759 20.1425 19.7625 19.4081 19.8495 18.5941C19.9375 17.7703 19.9375 16.6762 19.9375 15.2943V10.6211C19.9375 8.6994 19.9375 7.1877 19.7805 6.00696C19.6195 4.7966 19.2824 3.83121 18.5306 3.07126C17.7777 2.31029 16.8197 1.96812 15.6188 1.80492C14.4493 1.64597 12.9526 1.64598 11.0527 1.646H10.9473ZM4.44693 4.03828C4.9023 3.57798 5.52064 3.30951 6.56634 3.16739C7.63258 3.02249 9.03582 3.021 11 3.021C12.9642 3.021 14.3674 3.02249 15.4337 3.16739C16.4794 3.30951 17.0977 3.57798 17.5531 4.03828C18.0095 4.49961 18.2764 5.12767 18.4175 6.18824C18.5611 7.26784 18.5625 8.68804 18.5625 10.6729V15.2502C18.5625 16.6859 18.5615 17.7062 18.4823 18.448C18.401 19.2082 18.2512 19.4935 18.1112 19.6226C17.8968 19.8201 17.6273 19.9433 17.3413 19.976C17.1583 19.997 16.8516 19.9261 16.2327 19.4877C15.6289 19.0601 14.8694 18.3896 13.8002 17.4439L13.7762 17.4227C13.3295 17.0276 12.9591 16.6999 12.632 16.4608C12.2901 16.2108 11.9453 16.0186 11.5388 15.9367C11.1831 15.865 10.8169 15.865 10.4612 15.9367C10.0547 16.0186 9.70987 16.2108 9.36797 16.4608C9.04092 16.6999 8.67049 17.0276 8.22383 17.4226L8.19983 17.4439C7.13063 18.3896 6.37108 19.0601 5.76735 19.4877C5.14842 19.9261 4.84167 19.997 4.65866 19.976C4.37267 19.9433 4.10316 19.8201 3.88884 19.6226C3.74883 19.4935 3.59896 19.2082 3.51772 18.448C3.43845 17.7062 3.4375 16.6859 3.4375 15.2502V10.6729C3.4375 8.68804 3.43893 7.26784 3.58252 6.18824C3.72358 5.12767 3.99055 4.49961 4.44693 4.03828Z" fill="#1E2023" />
              </svg>

            </span>
            <span className="item-text" onClick={() => navigate('/pfp')}>
              <FormattedMessage id="Savedlocations" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
        </div>

        {/* Setting */}
        <div className="profile-section">
          <h2 className="section-title">
            <FormattedMessage id="settings" />
          </h2>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.5533 19.1314L16.6861 9.76425C16.6147 9.59126 16.4935 9.44337 16.338 9.3393C16.1824 9.23524 15.9995 9.17969 15.8123 9.17969C15.6252 9.17969 15.4422 9.23524 15.2867 9.3393C15.1311 9.44337 15.01 9.59126 14.9386 9.76425L11.0714 19.1314C11.0233 19.2463 10.9984 19.3696 10.998 19.4941C10.9977 19.6186 11.022 19.742 11.0695 19.8571C11.117 19.9722 11.1868 20.0768 11.2749 20.1649C11.3629 20.2529 11.4675 20.3227 11.5826 20.3702C11.6977 20.4178 11.8211 20.4421 11.9456 20.4418C12.0702 20.4415 12.1934 20.4166 12.3083 20.3685C12.4232 20.3204 12.5274 20.2501 12.615 20.1616C12.7027 20.0732 12.772 19.9682 12.8189 19.8529L13.6065 17.9455H18.0181L18.8057 19.8529C18.8771 20.0259 18.9983 20.1739 19.1539 20.278C19.3095 20.3821 19.4925 20.4377 19.6797 20.4377C19.8351 20.4376 19.988 20.3992 20.125 20.326C20.2619 20.2527 20.3787 20.1468 20.4651 20.0177C20.5514 19.8886 20.6046 19.7401 20.6199 19.5855C20.6352 19.431 20.6122 19.275 20.5529 19.1314H20.5533ZM14.3873 16.0549L15.8125 12.6023L17.2378 16.0549H14.3873Z" fill="#1E2023" stroke="white" strokeWidth="0.3" />
                <path d="M11.5087 15.2348C11.6556 15.032 11.716 14.7791 11.6766 14.5318C11.6372 14.2845 11.5013 14.0629 11.2986 13.9157C11.29 13.9093 10.6541 13.4375 9.7307 12.4234C11.4344 10.1168 12.3995 7.49273 12.7931 6.25781H14.1797C14.4304 6.25781 14.6708 6.15822 14.8481 5.98094C15.0254 5.80366 15.125 5.56321 15.125 5.3125C15.125 5.06179 15.0254 4.82134 14.8481 4.64406C14.6708 4.46678 14.4304 4.36719 14.1797 4.36719H9.19531V3.50781C9.19531 3.2571 9.09572 3.01666 8.91844 2.83938C8.74116 2.6621 8.50071 2.5625 8.25 2.5625C7.99929 2.5625 7.75884 2.6621 7.58156 2.83938C7.40428 3.01666 7.30469 3.2571 7.30469 3.50781V4.36719H2.32031C2.0696 4.36719 1.82916 4.46678 1.65188 4.64406C1.4746 4.82134 1.375 5.06179 1.375 5.3125C1.375 5.56321 1.4746 5.80366 1.65188 5.98094C1.82916 6.15822 2.0696 6.25781 2.32031 6.25781H10.7959C10.3868 7.41582 9.63359 9.24414 8.48461 10.9139C7.13496 9.12297 6.63352 7.9641 6.62965 7.95465C6.53084 7.72631 6.346 7.54612 6.11521 7.45318C5.88442 7.36024 5.62629 7.36203 5.39682 7.45816C5.16734 7.5543 4.98501 7.73702 4.88938 7.96671C4.79375 8.1964 4.79253 8.45453 4.88598 8.68512C4.9109 8.74441 5.51117 10.1559 7.1573 12.2915C7.19684 12.3426 7.23594 12.3925 7.27504 12.4423C5.58894 14.348 3.93465 15.53 3.24242 15.9116C3.02231 16.0317 2.8589 16.2342 2.78815 16.4748C2.7174 16.7153 2.7451 16.9741 2.86516 17.1942C2.98521 17.4143 3.18779 17.5777 3.42833 17.6485C3.66887 17.7192 3.92766 17.6915 4.14777 17.5715C4.24059 17.5208 6.23605 16.4161 8.51469 13.8938C9.48234 14.9285 10.1475 15.4166 10.1875 15.445C10.288 15.518 10.402 15.5705 10.5228 15.5994C10.6437 15.6284 10.769 15.6332 10.8918 15.6136C11.0145 15.5941 11.1321 15.5505 11.238 15.4855C11.3439 15.4204 11.4359 15.3351 11.5087 15.2344V15.2348Z" fill="#1E2023" stroke="white" strokeWidth="0.3" />
              </svg>


            </span>
            <span className="item-text" onClick={() => navigate('/plang')}>
              <FormattedMessage id="language" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M11.0004 1.646C7.07692 1.646 3.89628 4.82664 3.89628 8.75016V9.39559C3.89628 10.0344 3.70718 10.659 3.35281 11.1905L2.29992 12.7699C1.07792 14.6029 2.01082 17.0944 4.13619 17.674C4.82884 17.8629 5.52733 18.0227 6.22987 18.1534L6.23161 18.1581C6.93652 20.039 8.82056 21.3543 11.0004 21.3543C13.1802 21.3543 15.0642 20.039 15.7692 18.1581L15.7709 18.1534C16.4735 18.0227 17.172 17.863 17.8647 17.674C19.9901 17.0944 20.923 14.6029 19.701 12.7699L18.6481 11.1905C18.2937 10.659 18.1046 10.0344 18.1046 9.39559V8.75016C18.1046 4.82664 14.924 1.646 11.0004 1.646ZM14.0955 18.409C12.0394 18.6547 9.96131 18.6547 7.90527 18.409C8.55698 19.3454 9.6905 19.9793 11.0004 19.9793C12.3103 19.9793 13.4438 19.3454 14.0955 18.409ZM5.27128 8.75016C5.27128 5.58603 7.83631 3.021 11.0004 3.021C14.1646 3.021 16.7296 5.58603 16.7296 8.75016V9.39559C16.7296 10.3059 16.9991 11.1958 17.504 11.9532L18.5569 13.5326C19.2583 14.5847 18.7228 16.0148 17.5029 16.3475C13.2457 17.5086 8.75521 17.5086 4.49798 16.3475C3.27805 16.0148 2.74258 14.5847 3.44399 13.5326L4.49688 11.9532C5.00183 11.1958 5.27128 10.3059 5.27128 9.39559V8.75016Z" fill="#1E2023" />
              </svg>
            </span>
            <span className="item-text">
              <FormattedMessage id="notifications" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
        </div>

        {/* Support Section */}
        <div className="profile-section">
          <h2 className="section-title">
            <FormattedMessage id="supportSection" />
          </h2>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.155 2.22334C12.2157 1.84853 12.57 1.59427 12.9448 1.65495C12.968 1.65939 13.0426 1.67334 13.0818 1.68205C13.16 1.69947 13.2691 1.72629 13.4051 1.76591C13.6772 1.84515 14.0572 1.97569 14.5134 2.18482C15.4266 2.60351 16.642 3.33593 17.9031 4.59708C19.1643 5.85823 19.8967 7.07356 20.3154 7.98681C20.5245 8.44296 20.655 8.82301 20.7343 9.09506C20.7739 9.2311 20.8007 9.34021 20.8181 9.41843C20.8268 9.45754 20.8332 9.48894 20.8376 9.51214L20.8429 9.54074C20.9036 9.91556 20.6517 10.2845 20.2768 10.3452C19.9031 10.4057 19.551 10.1527 19.4888 9.77963C19.4869 9.76962 19.4817 9.7427 19.476 9.71732C19.4647 9.66656 19.4451 9.58605 19.4141 9.47958C19.3521 9.2666 19.2444 8.95005 19.0655 8.55984C18.7081 7.7804 18.0655 6.70406 16.9308 5.56935C15.7961 4.43464 14.7198 3.79206 13.9403 3.43472C13.5501 3.25583 13.2336 3.14809 13.0206 3.08605C12.9141 3.05504 12.7803 3.02432 12.7295 3.01302C12.3565 2.95085 12.0945 2.59709 12.155 2.22334Z" fill="#1E2023" />
                <path fillRule="evenodd" clipRule="evenodd" d="M12.3624 5.38535C12.4667 5.02026 12.8472 4.80886 13.2123 4.91317L13.0234 5.57422C13.2123 4.91317 13.2123 4.91317 13.2123 4.91317L13.2136 4.91355L13.215 4.91396L13.2181 4.91485L13.2252 4.91697L13.2433 4.92262C13.2571 4.92704 13.2744 4.9328 13.295 4.9401C13.3361 4.95471 13.3906 4.97549 13.4573 5.00409C13.5908 5.06132 13.7733 5.14971 13.9974 5.28236C14.4461 5.5479 15.0586 5.98898 15.7782 6.70854C16.4977 7.4281 16.9388 8.0406 17.2044 8.48928C17.337 8.71341 17.4254 8.89589 17.4826 9.02943C17.5112 9.09617 17.532 9.15058 17.5466 9.19175C17.5539 9.21233 17.5597 9.22959 17.5641 9.24341L17.5698 9.26155L17.5719 9.26866L17.5728 9.27171L17.5732 9.27312C17.5732 9.27312 17.5735 9.27444 16.9125 9.46331L17.5735 9.27444C17.6779 9.63952 17.4665 10.02 17.1014 10.1244C16.7394 10.2278 16.3622 10.0208 16.2542 9.66145L16.2508 9.65157C16.2459 9.63779 16.2358 9.61067 16.2188 9.57107C16.1849 9.49193 16.1234 9.36247 16.0211 9.18959C15.8167 8.84425 15.4475 8.32243 14.8059 7.68081C14.1643 7.03919 13.6425 6.67004 13.2971 6.46565C13.1243 6.36334 12.9948 6.30183 12.9157 6.26791C12.876 6.25094 12.8489 6.24083 12.8352 6.23594L12.8253 6.23255C12.4659 6.1245 12.2589 5.74734 12.3624 5.38535Z" fill="#1E2023" />
                <path fillRule="evenodd" clipRule="evenodd" d="M4.59049 4.53954C6.13055 2.99948 8.72943 3.11655 9.80176 5.038L10.3967 6.10402C11.097 7.35877 10.7985 8.94193 9.77343 9.97957C9.75978 9.99827 9.68742 10.1036 9.67841 10.2877C9.6669 10.5227 9.75035 11.066 10.5922 11.9079C11.4339 12.7496 11.9772 12.8332 12.2122 12.8218C12.3965 12.8128 12.5019 12.7404 12.5206 12.7267C13.5583 11.7016 15.1414 11.4032 16.3962 12.1035L17.4622 12.6984C19.3836 13.7707 19.5007 16.3696 17.9606 17.9097C17.1369 18.7335 16.0415 19.4654 14.7543 19.5142C12.8468 19.5865 9.67953 19.0939 6.54289 15.9573C3.40626 12.8207 2.91365 9.65335 2.98597 7.74583C3.03476 6.45865 3.76672 5.36331 4.59049 4.53954ZM8.60109 5.70808C8.05199 4.72418 6.57644 4.49813 5.56276 5.51181C4.85203 6.22255 4.38996 7.00704 4.35998 7.79792C4.29968 9.38865 4.69241 12.1623 7.51517 14.985C10.3379 17.8078 13.1115 18.2005 14.7023 18.1402C15.4931 18.1102 16.2776 17.6482 16.9884 16.9374C18.002 15.9237 17.776 14.4482 16.7921 13.8991L15.7261 13.3042C15.063 12.9341 14.1315 13.0603 13.4776 13.7142C13.4134 13.7784 13.0045 14.1599 12.279 14.1952C11.5363 14.2313 10.6373 13.8976 9.61997 12.8802C8.60228 11.8625 8.26868 10.9633 8.30505 10.2205C8.34058 9.49491 8.72211 9.08644 8.78596 9.02259C9.43983 8.36871 9.5661 7.43722 9.19602 6.7741L8.60109 5.70808Z" fill="#1E2023" />
              </svg>
            </span>
            <span className="item-text">
              <FormattedMessage id="support" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 1.64551C16.4423 1.64551 20.8545 6.05769 20.8545 11.5C20.8545 16.9423 16.4423 21.3545 11 21.3545C5.55769 21.3545 1.14551 16.9423 1.14551 11.5C1.14551 6.05769 5.55769 1.64551 11 1.64551ZM11 3.02051C6.31709 3.02051 2.52051 6.81709 2.52051 11.5C2.52051 16.1829 6.31709 19.9795 11 19.9795C15.6829 19.9795 19.4795 16.1829 19.4795 11.5C19.4795 6.81709 15.6829 3.02051 11 3.02051ZM11 14.25C11.5063 14.25 11.917 14.6607 11.917 15.167C11.9168 15.6731 11.5062 16.083 11 16.083C10.4938 16.083 10.0832 15.6731 10.083 15.167C10.083 14.6607 10.4937 14.25 11 14.25ZM11 6.22949C12.3289 6.22949 13.4062 7.30681 13.4062 8.63574C13.4061 9.51867 12.9297 10.2893 12.2236 10.707C12.0434 10.8137 11.8948 10.9307 11.7979 11.0449C11.7039 11.1556 11.6876 11.2279 11.6875 11.2705V12.417C11.6873 12.7965 11.3796 13.1045 11 13.1045C10.6204 13.1045 10.3127 12.7965 10.3125 12.417V11.2705C10.3126 10.807 10.5153 10.4308 10.749 10.1553C10.9799 9.8832 11.2682 9.67547 11.5234 9.52441C11.8286 9.34389 12.0311 9.01286 12.0312 8.63574C12.0312 8.0662 11.5695 7.60449 11 7.60449C10.4305 7.60449 9.96875 8.0662 9.96875 8.63574C9.96857 9.01529 9.66084 9.32324 9.28125 9.32324C8.90166 9.32324 8.59393 9.01529 8.59375 8.63574C8.59375 7.30681 9.67106 6.22949 11 6.22949Z" fill="#1E2023" />
              </svg>

            </span>
            <span className="item-text">
              <FormattedMessage id="faq" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M6.65738 3.48891C6.76701 2.45306 7.64342 1.646 8.70833 1.646H13.2917C14.3566 1.646 15.233 2.45306 15.3426 3.48891C16.0421 3.50315 16.6469 3.53934 17.1633 3.6342C17.8582 3.76183 18.4495 4.00496 18.9307 4.48615C19.4824 5.03791 19.7198 5.73263 19.8307 6.55772C19.9375 7.35244 19.9375 8.36291 19.9375 9.61653V15.2171C19.9375 16.4708 19.9375 17.4812 19.8307 18.2759C19.7198 19.101 19.4824 19.7958 18.9307 20.3475C18.3789 20.8993 17.6842 21.1366 16.8591 21.2475C16.0644 21.3544 15.0539 21.3543 13.8003 21.3543H8.1997C6.94608 21.3543 5.93562 21.3544 5.1409 21.2475C4.3158 21.1366 3.62108 20.8993 3.06932 20.3475C2.51756 19.7958 2.28025 19.101 2.16931 18.2759C2.06247 17.4812 2.06248 16.4708 2.0625 15.2171V9.61653C2.06248 8.3629 2.06247 7.35244 2.16931 6.55772C2.28025 5.73263 2.51756 5.03791 3.06932 4.48615C3.55051 4.00496 4.14183 3.76183 4.83666 3.6342C5.35308 3.53934 5.95789 3.50315 6.65738 3.48891ZM6.65955 4.86429C6.00122 4.87835 5.49391 4.91147 5.08507 4.98657C4.56549 5.08201 4.26476 5.23526 4.04159 5.45842C3.78789 5.71212 3.62248 6.06831 3.53205 6.74094C3.43896 7.43334 3.4375 8.35103 3.4375 9.66683V15.1668C3.4375 16.4826 3.43896 17.4003 3.53205 18.0927C3.62248 18.7653 3.78789 19.1215 4.04159 19.3752C4.29529 19.6289 4.65148 19.7943 5.32411 19.8848C6.01652 19.9779 6.9342 19.9793 8.25 19.9793H13.75C15.0658 19.9793 15.9835 19.9779 16.6759 19.8848C17.3485 19.7943 17.7047 19.6289 17.9584 19.3752C18.2121 19.1215 18.3775 18.7653 18.4679 18.0927C18.561 17.4003 18.5625 16.4826 18.5625 15.1668V9.66683C18.5625 8.35103 18.561 7.43334 18.4679 6.74094C18.3775 6.06831 18.2121 5.71212 17.9584 5.45842C17.7352 5.23526 17.4345 5.08201 16.9149 4.98657C16.5061 4.91147 15.9988 4.87835 15.3405 4.86429C15.2219 5.89073 14.3499 6.68766 13.2917 6.68766H8.70833C7.65013 6.68766 6.77806 5.89073 6.65955 4.86429ZM8.70833 3.021C8.32864 3.021 8.02083 3.3288 8.02083 3.7085V4.62516C8.02083 5.00486 8.32864 5.31266 8.70833 5.31266H13.2917C13.6714 5.31266 13.9792 5.00486 13.9792 4.62516V3.7085C13.9792 3.3288 13.6714 3.021 13.2917 3.021H8.70833ZM5.72917 10.1252C5.72917 9.74547 6.03697 9.43766 6.41667 9.43766H6.875C7.2547 9.43766 7.5625 9.74547 7.5625 10.1252C7.5625 10.5049 7.2547 10.8127 6.875 10.8127H6.41667C6.03697 10.8127 5.72917 10.5049 5.72917 10.1252ZM8.9375 10.1252C8.9375 9.74547 9.2453 9.43766 9.625 9.43766H15.5833C15.963 9.43766 16.2708 9.74547 16.2708 10.1252C16.2708 10.5049 15.963 10.8127 15.5833 10.8127H9.625C9.2453 10.8127 8.9375 10.5049 8.9375 10.1252ZM5.72917 13.3335C5.72917 12.9538 6.03697 12.646 6.41667 12.646H6.875C7.2547 12.646 7.5625 12.9538 7.5625 13.3335C7.5625 13.7132 7.2547 14.021 6.875 14.021H6.41667C6.03697 14.021 5.72917 13.7132 5.72917 13.3335ZM8.9375 13.3335C8.9375 12.9538 9.2453 12.646 9.625 12.646H15.5833C15.963 12.646 16.2708 12.9538 16.2708 13.3335C16.2708 13.7132 15.963 14.021 15.5833 14.021H9.625C9.2453 14.021 8.9375 13.7132 8.9375 13.3335ZM5.72917 16.5418C5.72917 16.1621 6.03697 15.8543 6.41667 15.8543H6.875C7.2547 15.8543 7.5625 16.1621 7.5625 16.5418C7.5625 16.9215 7.2547 17.2293 6.875 17.2293H6.41667C6.03697 17.2293 5.72917 16.9215 5.72917 16.5418ZM8.9375 16.5418C8.9375 16.1621 9.2453 15.8543 9.625 15.8543H15.5833C15.963 15.8543 16.2708 16.1621 16.2708 16.5418C16.2708 16.9215 15.963 17.2293 15.5833 17.2293H9.625C9.2453 17.2293 8.9375 16.9215 8.9375 16.5418Z" fill="#1E2023" />
              </svg>

            </span>
            <span className="item-text">
              <FormattedMessage id="termsRegulation" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>

            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <img
                src={logo}
                alt={intl.formatMessage({ id: 'logoAlt' })}
                className="custom-logo-icon"
              />
            </span>
            <span className="item-text">
              <FormattedMessage id="aboutUs" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
          <div className="section-item">
            <span className="item-icon">
              <img
                src={logo}
                alt={intl.formatMessage({ id: 'logoAlt' })}
                className="custom-logo-icon"
              />
            </span>
            <span className="item-text">
              <FormattedMessage id="contactUs" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#858585" />
              </svg>
            </span>
          </div>
        </div>

        {/* Logout Section */}
        <div className="logout-section">
          <h3 className="logout-title">
            <FormattedMessage id="logoutTitle" />
          </h3>
          <div className="logout-item">
            <span className="item-icon">
              <svg width="24" height="24" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.01387 11.9863C4.74538 11.7178 4.74538 11.2825 5.01387 11.014L6.8472 9.18069C7.11568 8.91221 7.55099 8.91221 7.81947 9.1807C8.08796 9.44918 8.08796 9.88448 7.81947 10.153L7.15977 10.8127L13.75 10.8127C14.1297 10.8127 14.4375 11.1205 14.4375 11.5002C14.4375 11.8799 14.1297 12.1877 13.75 12.1877L7.15977 12.1877L7.81947 12.8474C8.08796 13.1158 8.08796 13.5511 7.81947 13.8196C7.55099 14.0881 7.11568 14.0881 6.8472 13.8196L5.01387 11.9863Z" fill="#EA4335" />
                <path fillRule="evenodd" clipRule="evenodd" d="M12.7832 1.646H13.8005C15.0541 1.64598 16.0646 1.64596 16.8593 1.75281C17.6844 1.86374 18.3791 2.10106 18.9309 2.65282C19.4826 3.20457 19.72 3.89929 19.8309 4.72439C19.9377 5.51911 19.9377 6.52957 19.9377 7.7832V15.2171C19.9377 16.4708 19.9377 17.4812 19.8309 18.2759C19.72 19.101 19.4826 19.7958 18.9309 20.3475C18.3791 20.8993 17.6844 21.1366 16.8593 21.2475C16.0646 21.3544 15.0541 21.3543 13.8005 21.3543H12.7832C11.5296 21.3543 10.5191 21.3544 9.72443 21.2475C8.89933 21.1366 8.20461 20.8993 7.65285 20.3475C7.28716 19.9818 7.05896 19.5525 6.91446 19.0625C6.04237 19.0614 5.31581 19.0518 4.72715 18.9726C4.02686 18.8785 3.41972 18.6747 2.93508 18.1901C2.45044 17.7055 2.24669 17.0983 2.15253 16.398C2.06246 15.7281 2.06248 14.8795 2.0625 13.8411V9.15928C2.06248 8.12086 2.06246 7.27226 2.15253 6.60231C2.24669 5.90202 2.45044 5.29488 2.93508 4.81024C3.41972 4.32561 4.02686 4.12185 4.72715 4.0277C5.31581 3.94855 6.04237 3.93896 6.91446 3.93782C7.05896 3.44781 7.28716 3.01851 7.65285 2.65282C8.20461 2.10106 8.89933 1.86374 9.72443 1.75281C10.5191 1.64596 11.5296 1.64598 12.7832 1.646ZM6.64764 16.0873C6.65092 16.6781 6.66068 17.2103 6.69427 17.6868C5.92933 17.6839 5.36067 17.6704 4.91036 17.6099C4.36255 17.5362 4.09393 17.4044 3.90735 17.2178C3.72077 17.0312 3.58893 16.7626 3.51527 16.2148C3.43896 15.6472 3.4375 14.8916 3.4375 13.7918V9.2085C3.4375 8.10876 3.43896 7.35312 3.51527 6.78552C3.58893 6.23771 3.72077 5.96909 3.90735 5.78251C4.09393 5.59594 4.36255 5.46409 4.91036 5.39043C5.36067 5.32989 5.92933 5.31646 6.69428 5.3135C6.66068 5.79 6.65092 6.32218 6.64764 6.913C6.64552 7.29269 6.95161 7.60221 7.3313 7.60432C7.71099 7.60643 8.0205 7.30035 8.02261 6.92066C8.02819 5.91828 8.05423 5.20779 8.15327 4.66856C8.24871 4.14899 8.40196 3.84826 8.62512 3.62509C8.87882 3.37139 9.23502 3.20598 9.90764 3.11555C10.6 3.02246 11.5177 3.021 12.8335 3.021H13.7502C15.066 3.021 15.9837 3.02246 16.6761 3.11555C17.3487 3.20598 17.7049 3.37139 17.9586 3.62509C18.2123 3.87879 18.3777 4.23498 18.4681 4.90761C18.5612 5.60001 18.5627 6.5177 18.5627 7.8335V15.1668C18.5627 16.4826 18.5612 17.4003 18.4681 18.0927C18.3777 18.7653 18.2123 19.1215 17.9586 19.3752C17.7049 19.6289 17.3487 19.7943 16.6761 19.8848C15.9837 19.9779 15.066 19.9793 13.7502 19.9793H12.8335C11.5177 19.9793 10.6 19.9779 9.90764 19.8848C9.23502 19.7943 8.87882 19.6289 8.62512 19.3752C8.40196 19.1521 8.24871 18.8513 8.15327 18.3318C8.05423 17.7925 8.02819 17.082 8.02261 16.0797C8.0205 15.7 7.71099 15.3939 7.3313 15.396C6.95161 15.3981 6.64552 15.7076 6.64764 16.0873Z" fill="#EA4335" />
              </svg>

            </span>
            <span className="item-text">
              <FormattedMessage id="logoutAccount" />
            </span>
            <span className="item-arrow">
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M10.3254 3.45388C10.5351 3.63359 10.5593 3.94924 10.3796 4.1589L6.65854 8.50017L10.3796 12.8414C10.5593 13.0511 10.5351 13.3668 10.3254 13.5465C10.1157 13.7262 9.80008 13.7019 9.62037 13.4922L5.62037 8.82557C5.45988 8.63832 5.45988 8.36202 5.62037 8.17478L9.62037 3.50811C9.80008 3.29845 10.1157 3.27417 10.3254 3.45388Z" fill="#EA4335" />
              </svg>
            </span>
          </div>
        </div>
      </div>
      <div className="app-version">
        <FormattedMessage id="appVersionLabel" values={{ version: appVersion }} />
      </div>
    </div>
  );
}

export const NavigationProvider = ({ children }) => {
  const [originHistory, setOriginHistory] = useState({});
  const location = useLocation();

  const setOriginForProfile = (fromPath) => {
    setOriginHistory(prev => ({
      ...prev,
      '/profile': fromPath
    }));
  };

  const getOriginForProfile = () => {
    return originHistory['/profile'] || '/';
  };

  return (
    <NavigationContext.Provider value={{ setOriginForProfile, getOriginForProfile }}>
      {children}
    </NavigationContext.Provider>
  );
};

export const useNavigationHistory = () => {
  const context = useContext(NavigationContext);
  if (!context) {
    throw new Error('useNavigationHistory must be used within NavigationProvider');
  }
  return context;
};

export default Profile;